<?xml version="1.0"?>

<!-- vi: ts=4 sw=4 sts=4
  - Build file for Servoy plugins
  -
  - Authors:
  -  	Joas de Haan
  -		Jan Blok
  -		Johan Compagner
  -		Rob Gansevles
  -		Sandor Vroemisse
  -->

<project name="servoy_plugins" basedir="." default="all_plugins">

	<property name="src.dir" value="src"/>
	<property name="bin.dir" value="bin"/>
	<property name="lib.dir" value="lib"/>
	<property name="build_build.build.dir" value="build"/>
	<property name="servoy_shared.lib.dir" value="../servoy_shared/lib"/>
	<property name="javacVerbose" value="false"/>
	<property name="javacDebugInfo" value="true"/>
	<property name="bundleJavacSource" value="1.6"/>
	<property name="bundleJavacTarget" value="1.6"/>

		
		
	<property name="bin_plugins.dir" value="${bin.dir}/com/servoy/extensions/plugins"/>
	<property name="bin_beans.dir" value="${bin.dir}/com/servoy/extensions/beans"/>
	<property name="bin_template.dir" value="${bin.dir}/com/servoy/extensions/template"/>
	<property name="bin_oraclefix.dir" value="${bin.dir}/com/servoy/extensions/oraclefix"/>

	<property name="src_plugins.dir" value="${src.dir}/com/servoy/extensions/plugins"/>
	<property name="src_beans.dir" value="${src.dir}/com/servoy/extensions/beans"/>
	<property name="src_template.dir" value="${src.dir}/com/servoy/extensions/template"/>
	<property name="src_oraclefix.dir" value="${src.dir}/com/servoy/extensions/oraclefix"/>

	<property name="plugins.dir" value="${build_build.build.dir}/plugins"/>
	<property name="beans.dir" value="${build_build.build.dir}/beans"/>
	<property name="server_lib.dir" value="${build_build.build.dir}/server/lib"/>
	<property name="drivers.dir" value="${build_build.build.dir}/drivers"/>
	<property name="extensions.dir" value="${build_build.build.dir}/extensions"/>
	
	<property name="tempForJar.dir" value="${basedir}/tempForJar"/>

	<patternset id="javaGifData.sources">
	  <include name="**/*.java"/>
	  <include name="**/*.gif"/>
	  <include name="**/*.data"/>
	</patternset>

	<patternset id="javaGif.sources">
	  <include name="**/*.java"/>
	  <include name="**/*.gif"/>
	</patternset>

 	<patternset id="gif.sources">
	  <include name="**/*.gif"/>
	</patternset>

	<patternset id="jpgPng.sources">
	  <include name="**/*.jpg"/>
	  <include name="**/*.png"/>
	</patternset>

	<patternset id="java.sources">
	  <include name="**/*.java"/>
	</patternset>

	<patternset id="htmlServoy.sources">
	  <include name="**/*.html"/>
	  <include name="**/*.servoy"/>
	</patternset>

	<path id="classpath">
		<fileset dir="${lib.dir}">
			<include name="*.jar" />
			<include name="*.zip" />
		</fileset>
		<fileset dir="${servoy_shared.lib.dir}">
			<include name="*.jar" />
			<include name="*.zip" />
		</fileset>
	</path>

	<!--===================================================
		Targets that only apply to the extensions project
		===================================================-->
	
	<target name="check_jdk">
		<!--
				<fail message="Wrong jdk version detected. Version ${java.version} was detected whereas the project needs ${target.version}.">
					<condition>
						<not>
							<contains string="${java.version}" substring="${target.version}" />
						</not>
					</condition>
				</fail>
		-->
	</target>
	
	<target name="compile" depends="check_jdk,prepare" description="Compile entire extensions project">
		<javac debuglevel="lines,vars,source" verbose="${javacVerbose}" debug="${javacDebugInfo}" source="${bundleJavacSource}" target="${bundleJavacTarget}"
			srcdir="${src.dir}"
			destdir="${bin.dir}"
			encoding="ISO-8859-1"
			deprecation="off"
			classpathref="classpath"
			fork="yes"
		/>
	</target>

	<target name="clean" description="Delete all extensions' temporary files" unless="do_not_clean">
		<delete dir="${bin.dir}"/>
	</target>

	<target name="clean_thoroughly"
			depends="clean"
			description="Delete all extensions' temporary and result files" unless="do_not_clean">
		<delete file="${beans.dir}/dbtreeview.jar"/>
		<delete dir="${server_lib.dir}/template-handler.jar"/>
		<delete dir="${drivers.dir}/oraclelobfix.jar"/>
	</target>

 	<target name="prepare">
		<mkdir dir="${plugins.dir}"/>
		<mkdir dir="${beans.dir}"/>
		<mkdir dir="${server_lib.dir}"/>
		<mkdir dir="${drivers.dir}"/>
		<mkdir dir="${bin_oraclefix.dir}"/>
		<mkdir dir="${bin.dir}"/>
 		<mkdir dir="${extensions.dir}"/>
	</target>

	<target	name="all_plugins"
			    depends="_all_common_plugins,compile,all_extensions"
	/>
	
	<target	name="_all_common_plugins"
			    depends="agent.jar,dialog.jar,http.jar,mail.jar,tabxport.jar,excelxport.jar,pdf_output.jar,file.jar,scheduler.jar,
			 	   pdf_forms.jar,dbtreeview.jar,amortization.jar,spellcheck.jar,images.jar,window.jar,udp.jar,rawSQL.jar,openid.jar,
			 	   xmlreader.jar,serialize.jar,default_validators.jar,converters.jar,rest_ws.jar,headlessclient.jar"
	>
		<!--<ant target="clean"/>-->
	</target>
	
	<target	name="all_extensions"
				    depends="agent.exp,dialog.exp,http.exp,mail.exp,tabxport.exp,excelxport.exp,pdf_output.exp,file.exp,scheduler.exp,
	 	   pdf_forms.exp,dbtreeview.exp,amortization.exp,spellcheck.exp,images.exp,window.exp,udp.exp,rawSQL.exp,openid.exp,
	 	   xmlreader.exp,serialize.exp,default_validators.exp,converters.exp,rest_ws.exp,headlessclient.exp"/>

	<!--================================================
		From here on only targets for specific jar files
		================================================-->

	<target name="agent.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/agent.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/agent">
			<fileset dir="${src_plugins.dir}/agent">
				<patternset refid="javaGifData.sources"/>
				<include name="**/servoy-*.xml"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/agent">
			<fileset dir="${bin_plugins.dir}/agent">
				<filename name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${plugins.dir}/agent.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>

	<target name="agent.exp" depends="agent.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/agent.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/agent/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/agent.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/agent/images/agent.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/agent.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="dialog.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/dialog.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/dialog">
			<fileset dir="${src_plugins.dir}/dialog">
				<patternset refid="javaGif.sources"/>
				<include name="**/servoy-*.xml"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/dialog">
			<fileset dir="${bin_plugins.dir}/dialog">
				<filename name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${plugins.dir}/dialog.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>

	<target name="dialog.exp" depends="dialog.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/dialog.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/dialog/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/dialog.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/dialog/images/dialogs.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/dialog.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
			
	<target name="http.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/http.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/http">
			<fileset dir="${src_plugins.dir}/http">
				<patternset refid="javaGif.sources"/>
				<include name="**/servoy-*.xml"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/http">
			<fileset dir="${bin_plugins.dir}/http">
				<filename name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${plugins.dir}/http.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<copy overwrite="true" todir="${plugins.dir}">
			<fileset file="resources/http/http.jar.jnlp"/>
		</copy>
		<delete dir="${tempForJar.dir}"/>
	</target>


	<target name="http.exp" depends="http.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/http.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/http/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/http.jar"/>
			<fileset file="resources/http/http.jar.jnlp"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/http/images/browse.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/http.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
					
	<target name="openid.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/openid.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/openid">
			<fileset dir="${src_plugins.dir}/openid">
				<patternset refid="javaGif.sources"/>
				<include name="**/servoy-*.xml"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/openid">
			<fileset dir="${bin_plugins.dir}/openid">
				<filename name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${plugins.dir}/openid.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<copy overwrite="true" todir="${plugins.dir}/openid">
			<fileset file="lib/openid4java.jar"/>
			<fileset file="lib/guice-2.0.jar"/>
		</copy>
		<delete dir="${tempForJar.dir}"/>
	</target>

	<target name="openid.exp" depends="openid.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/openid.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/openid/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/openid.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins/openid">
			<fileset file="lib/openid4java.jar"/>
			<fileset file="lib/guice-2.0.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/openid/images/openid.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/openid.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="serialize.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/serialize.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/serialize">
			<fileset dir="${src_plugins.dir}/serialize">
				<patternset refid="javaGif.sources"/>
				<include name="**/servoy-*.xml"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/serialize">
			<fileset dir="${bin_plugins.dir}/serialize">
				<filename name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${plugins.dir}/serialize.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<copy overwrite="true" todir="${plugins.dir}">
			<fileset file="resources/serialize/serialize.jar.jnlp"/>
		</copy>
		<delete dir="${tempForJar.dir}"/>
	</target>

	<target name="serialize.exp" depends="serialize.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/serialize.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/serialize/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/serialize.jar"/>
			<fileset file="resources/http/serialize.jar.jnlp"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/serialize/images/docsave.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/serialize.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="converters.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/converters.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/converters">
			<fileset dir="${src_plugins.dir}/converters">
				<patternset refid="javaGif.sources"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/converters">
			<fileset dir="${bin_plugins.dir}/converters">
				<filename name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${plugins.dir}/converters.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="converters.exp" depends="converters.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/converters.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/converters/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/converters.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/converters/images/converter.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/converters.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="rest_ws.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/rest_ws.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/rest_ws">
			<fileset dir="${src_plugins.dir}/rest_ws">
				<patternset refid="javaGif.sources"/>
			</fileset>
			<fileset dir="${bin_plugins.dir}/rest_ws">
				<include name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${plugins.dir}/rest_ws.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>

	<target name="rest_ws.exp" depends="rest_ws.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/rest_ws.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/rest_ws/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/rest_ws.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/rest_ws/images/web_services.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/rest_ws.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="headlessclient.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/headlessclient.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/headlessclient">
			<fileset dir="${src_plugins.dir}/headlessclient">
				<patternset refid="javaGif.sources"/>
				<include name="**/servoy-*.xml"/>
			</fileset>
			<fileset dir="${bin_plugins.dir}/headlessclient">
				<include name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${plugins.dir}/headlessclient.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="headlessclient.exp" depends="headlessclient.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/headlessclient.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/headlessclient/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/headlessclient.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/headlessclient/images/console.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/headlessclient.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="mail.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/mail.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/mail">
			<fileset dir="${src_plugins.dir}/mail">
				<patternset refid="javaGif.sources"/>
				<include name="**/servoy-*.xml"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/mail">
			<fileset dir="${bin_plugins.dir}/mail">
				<filename name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${plugins.dir}/mail.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>

	<target name="mail.exp" depends="mail.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/mail.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/mail/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/mail.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/mail/client/images/mail.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/mail.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="tabxport.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/tabxport.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/tabxport">
			<fileset dir="${src_plugins.dir}/tabxport">
				<patternset refid="gif.sources"/>
				<include name="**/servoy-*.xml"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/tabxport">
			<fileset dir="${bin_plugins.dir}/tabxport">
				<filename name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${plugins.dir}/tabxport.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>

	<target name="tabxport.exp" depends="tabxport.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/tabxport.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/tabxport/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/tabxport.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/tabxport/images/docexport.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/tabxport.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="excelxport.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/excelxport.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/excelxport">
			<fileset dir="${src_plugins.dir}/excelxport">
				<patternset refid="gif.sources"/>
				<include name="**/servoy-*.xml"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/excelxport">
			<fileset dir="${bin_plugins.dir}/excelxport">
				<filename name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${plugins.dir}/excelxport.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<copy overwrite="true" todir="${plugins.dir}">
			<fileset file="resources/excelxport/excelxport.jar.jnlp"/>
		</copy>
		<copy overwrite="true" todir="${plugins.dir}/jakarta-poi">
			<fileset file="lib/jakarta-poi.jar"/>
		</copy>
		<delete dir="${tempForJar.dir}"/>
	</target>

	<target name="excelxport.exp" depends="excelxport.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/excelxport.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/excelxport/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/excelxport.jar"/>
			<fileset file="resources/excelxport/excelxport.jar.jnlp"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins/jakarta-poi">
			<fileset file="lib/jakarta-poi.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/excelxport/images/excelxport.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/excelxport.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="pdf_output.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/pdf_output.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/pdf_output">
			<fileset dir="${src_plugins.dir}/pdf_output">
				<patternset refid="javaGif.sources"/>
				<include name="**/servoy-*.xml"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/pdf_output">
			<fileset dir="${bin_plugins.dir}/pdf_output">
				<filename name="**/*.class"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/META-INF/services/">
			<fileset file="resources/pdf_output/javax.print.StreamPrintServiceFactory"/>
		</copy>
		<jar	destfile="${plugins.dir}/pdf_output.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<copy overwrite="true" todir="${plugins.dir}">
			<fileset file="resources/pdf_output/pdf_output.jar.jnlp"/>
		</copy>
		<copy overwrite="true" todir="${plugins.dir}/pdf_output">
			<fileset file="lib/itext.jar"/>
			<fileset file="lib/bcmail.jar"/>
			<fileset file="lib/bcprov.jar"/>
		</copy>
		<delete dir="${tempForJar.dir}"/>
	</target>

	<target name="pdf_output.exp" depends="pdf_output.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/pdf_output.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/pdf_output/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="resources/pdf_output/pdf_output.jar.jnlp"/>
			<fileset file="${plugins.dir}/pdf_output.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins/pdf_output">
			<fileset file="lib/itext.jar"/>
			<fileset file="lib/bcmail.jar"/>
			<fileset file="lib/bcprov.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/pdf_output/images/pdf.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/pdf_output.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="scheduler.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/scheduler.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/scheduler">
			<fileset dir="${src_plugins.dir}/scheduler">
				<patternset refid="javaGif.sources"/>
				<include name="**/servoy-*.xml"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/scheduler">
			<fileset dir="${bin_plugins.dir}/scheduler">
				<filename name="**/*.class"/>
			</fileset>
		</copy>
		<copy overwrite="true" file="${src.dir}/quartz.properties" todir="${tempForJar.dir}"/>
		<jar	destfile="${plugins.dir}/scheduler.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<copy overwrite="true" todir="${plugins.dir}">
			<fileset file="resources/scheduler/scheduler.jar.jnlp"/>
		</copy>
		<copy overwrite="true" todir="${plugins.dir}/scheduler">
			<fileset file="lib/quartz.jar"/>
		</copy>
		<delete dir="${tempForJar.dir}"/>
	</target>

	<target name="scheduler.exp" depends="scheduler.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/scheduler.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/scheduler/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="resources/scheduler/scheduler.jar.jnlp"/>
			<fileset file="${plugins.dir}/scheduler.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins/scheduler">
			<fileset file="lib/quartz.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/scheduler/images/timer.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/scheduler.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="pdf_forms.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/pdf_forms.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/pdf_forms">
			<fileset dir="${bin_plugins.dir}/pdf_forms">
				<include name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${plugins.dir}/pdf_forms.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<copy overwrite="true" todir="${plugins.dir}/adobe_pdf_forms">
			<fileset file="lib/jFdfTk.jar"/>
		</copy>
	</target>

	<target name="pdf_forms.exp" depends="pdf_forms.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/pdf_forms.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/pdf_forms/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/pdf_forms.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins/pdf_output">
			<fileset file="lib/itext.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins/adobe_pdf_forms">
			<fileset file="lib/jFdfTk.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/pdf_forms/images/pdf.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/pdf_forms.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="file.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/file.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/file">
			<fileset dir="${src_plugins.dir}/file">
				<patternset refid="gif.sources"/>
				<include name="**/servoy-*.xml"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/file">
			<fileset dir="${bin_plugins.dir}/file">
				<filename name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${plugins.dir}/file.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>

	<target name="file.exp" depends="file.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/file.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/file/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/file.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/file/images/file.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/file.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="default_validators.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/default_validators.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/validators">
			<fileset dir="${src_plugins.dir}/validators">
				<patternset refid="javaGif.sources"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/validators">
			<fileset dir="${bin_plugins.dir}/validators">
				<filename name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${plugins.dir}/default_validators.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>

	<target name="default_validators.exp" depends="default_validators.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/default_validators.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/validators/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/default_validators.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/validators/images/validators.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/default_validators.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="dbtreeview.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}/META-INF"/>
		<copy overwrite="true" todir="${tempForJar.dir}/META-INF">
			<fileset file="resources/dbtreeview/MANIFEST.MF"/>
		</copy>
		<delete file="${beans.dir}/dbtreeview.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/beans/dbtreeview/res">
			<fileset dir="${src_beans.dir}/dbtreeview/res">
				<include name="**/*.css"/>
				<include name="**/*.png"/>
				<include name="**/*.gif"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/beans/dbtreeview/table/res">
			<fileset dir="${src_beans.dir}/dbtreeview/table/res">
				<include name="**/*.css"/>
				<include name="**/*.png"/>
				<include name="**/*.gif"/>
			</fileset>
		</copy>		
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/beans/dbtreeview">
			<fileset dir="${src_beans.dir}/dbtreeview">
				<filename name="**/*.html"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/beans/dbtreeview">
			<fileset dir="${src_beans.dir}/dbtreeview">
				<include name="**/servoy-*.xml"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/beans/dbtreeview">
			<fileset dir="${bin_beans.dir}/dbtreeview">
				<filename name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${beans.dir}/dbtreeview.jar"
				manifest="${tempForJar.dir}/META-INF/MANIFEST.MF"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<copy overwrite="true" todir="${beans.dir}/dbtreeview">
			<fileset file="lib/inmethod-grid.jar"/>
		</copy>		
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="dbtreeview.exp" depends="dbtreeview.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/dbtreeview.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_beans.dir}/dbtreeview/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/beans">
			<fileset file="${beans.dir}/dbtreeview.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/beans">
			<fileset file="lib/inmethod-grid.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_beans.dir}/dbtreeview/res/icon/DBTreeView32.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/dbtreeview.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="amortization.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/amortization.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/amortization">
			<fileset dir="${src_plugins.dir}/amortization">
				<patternset refid="javaGif.sources"/>
				<include name="**/servoy-*.xml"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/amortization">
			<fileset dir="${bin_plugins.dir}/amortization">
				<filename name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${plugins.dir}/amortization.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>

	<target name="amortization.exp" depends="amortization.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/amortization.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/amortization/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/amortization.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/amortization/images/calculator.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/amortization.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="spellcheck.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/spellcheck.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/spellcheck">
			<fileset dir="${src_plugins.dir}/spellcheck">
				<patternset refid="gif.sources"/>
				<include name="**/servoy-*.xml"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/spellcheck">
			<fileset dir="${bin_plugins.dir}/spellcheck">
				<filename name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${plugins.dir}/spellcheck.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<copy overwrite="true" todir="${plugins.dir}/spellcheck">
			<fileset file="lib/RapidSpell*.jar"/>
		</copy>
		<copy overwrite="true" todir="${plugins.dir}/spellcheck">
			<fileset file="resources/spellcheck/*.dict"/>
		</copy>
		<delete dir="${tempForJar.dir}"/>
	</target>

	<target name="spellcheck.exp" depends="spellcheck.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/spellcheck.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/spellcheck/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/spellcheck.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins/spellcheck">
			<fileset file="lib/RapidSpell.jar"/>
			<fileset file="lib/RapidSpell_US_UK_Dict.jar"/>
			<fileset file="resources/spellcheck/*.dict"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/spellcheck/images/spell.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/spellcheck.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="images.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/images.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/images">
			<fileset dir="${src_plugins.dir}/images">
				<patternset refid="gif.sources"/>
				<include name="**/servoy-*.xml"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/images">
			<fileset dir="${bin_plugins.dir}/images">
				<filename name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${plugins.dir}/images.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<copy overwrite="true" file="resources/images/images.jar.jnlp" todir="${plugins.dir}"/>
		<copy overwrite="true" todir="${plugins.dir}/images">
			<fileset file="lib/jai_imageio.jar"/>
			<fileset file="lib/metadataextractor.jar"/>
		</copy>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="images.exp" depends="images.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/images.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/images/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/images.jar"/>
			<fileset file="resources/images/images.jar.jnlp"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins/images">
			<fileset file="lib/jai_imageio.jar"/>
			<fileset file="lib/metadataextractor.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/images/icon.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/images.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="window.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>

		<delete file="${plugins.dir}/window.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/window">
			<fileset dir="${src_plugins.dir}/window">
				<patternset refid="javaGif.sources"/>
				<include name="**/servoy-*.xml"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/window">
			<fileset dir="${bin_plugins.dir}/window">
				<filename name="**/*.class"/>
			</fileset>
		</copy>

		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/window">
			<fileset dir="${src_plugins.dir}/window">
				<include name="**/*.css"/>
				<include name="**/*.png"/>
				<include name="**/*.gif"/>
				<include name="**/*.js"/>
				<include name="**/*.html"/>
			</fileset>
		</copy>

		<jar	destfile="${plugins.dir}/window.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="window.exp" depends="window.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/window.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/window/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/window.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/window/images/window.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/window.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="udp.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/udp.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/udp">
			<fileset dir="${src_plugins.dir}/udp">
				<patternset refid="gif.sources"/>
				<include name="**/servoy-*.xml"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/udp">
			<fileset dir="${bin_plugins.dir}/udp">
				<filename name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${plugins.dir}/udp.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="udp.exp" depends="udp.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/udp.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/udp/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/udp.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/udp/images/udp.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/udp.exp"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="rawSQL.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/rawSQL.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/rawSQL">
			<fileset dir="${src_plugins.dir}/rawSQL">
				<patternset refid="javaGif.sources"/>
				<include name="**/servoy-*.xml"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/rawSQL">
			<fileset dir="${bin_plugins.dir}/rawSQL">
				<filename name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${plugins.dir}/rawSQL.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>

	<target name="rawSQL.exp" depends="rawSQL.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/rawSQL.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/rawSQL/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/rawSQL.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/rawSQL/images/sql.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/rawSQL.exp"
			basedir="${tempForJar.dir}"
			duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="xmlreader.jar" depends="compile">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${plugins.dir}/xmlreader.jar" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/xmlreader">
			<fileset dir="${src_plugins.dir}/xmlreader">
				<patternset refid="javaGif.sources"/>
				<include name="**/servoy-*.xml"/>
			</fileset>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/com/servoy/extensions/plugins/xmlreader">
			<fileset dir="${bin_plugins.dir}/xmlreader">
				<filename name="**/*.class"/>
			</fileset>
		</copy>
		<jar	destfile="${plugins.dir}/xmlreader.jar"
				basedir="${tempForJar.dir}"
				duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
	
	<target name="xmlreader.exp" depends="xmlreader.jar">
		<delete dir="${tempForJar.dir}"/>
		<mkdir dir="${tempForJar.dir}"/>
		<delete file="${extensions.dir}/xmlreader.exp" quiet="true"/>
		<copy overwrite="true" todir="${tempForJar.dir}">
			<fileset file="${src_plugins.dir}/xmlreader/package.xml"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/application_server/plugins">
			<fileset file="${plugins.dir}/xmlreader.jar"/>
		</copy>
		<copy overwrite="true" todir="${tempForJar.dir}/screenshots">
			<fileset file="${src_plugins.dir}/xmlreader/images/xml.gif"/>
		</copy>
		<zip	destfile="${extensions.dir}/xmlreader.exp"
			basedir="${tempForJar.dir}"
			duplicate="fail"
		/>
		<delete dir="${tempForJar.dir}"/>
	</target>
</project>
